<div class="d-flex flex-row">
  <!-- Sidebar -->
  <nav class="sidebar navbar navbar-dark bg-dark flex-column border-secondary"
    [ngClass]="{'border-end': navLeft$ | async, 'border-start order-3': navRight$ | async}">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a routerLink="/" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <i class="bi bi-house fs-2"></i>
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/map" class="nav-link" routerLinkActive="active">
          <i class="bi bi-map fs-2"></i>
        </a>
      </li>
      <li class="nav-item" *ngIf="lastMfd$ | async as lastMfd" [ngbTooltip]="lastMfd.name" placement="bottom">
        <a [routerLink]="lastMfd.path" class="nav-link" routerLinkActive="active">
          <i class="bi bi-speedometer2 fs-2"></i>
        </a>
      </li>
    </ul>
    <ul class="navbar-nav navbar-lower">
      <li class="nav-item border-secondary" ngbTooltip="MFD Self Test" *ngIf="mfdControls.mfd$| async as mfd">
        <button class="nav-link" (click)="mfdControls.runSelfTest()">
          <i class="bi bi-wrench-adjustable-circle fs-2"></i>
        </button>
      </li>
      <li class="nav-item border-secondary" *ngIf="settings$ | async as key">
        <button class="nav-link" (click)="onSettingClick(key)">
          <i class="bi bi-gear fs-2"></i>
        </button>
      </li>
    </ul>
  </nav>

  <div class="content flex-fill vh-100">
    <router-outlet></router-outlet>
  </div>
</div>
